{% extends "base.html" %}
{% block title %}Graph and Control Panel{% endblock %}

{% block content %}
<div class="container">
  <div class="input-section">
    <h2>Control Panel</h2>
    <form class="vertical-form">
      <button type="button" id="StartCycle">Start cycle</button>
      <button type="button" id="updateGraph">Update Graph</button>
      <br /><br />
      <!-- Inputs for manual updates (used by handleManualUpdateGraph) -->
      <input type="text" id="temperature" placeholder="Temperature" />
      <input type="text" id="manualPoint" placeholder="Manual Point (x,y)" />
    </form>
  </div>

  <div class="graph-section">
    <canvas id="newGraph"></canvas>
  </div>
</div>
{% endblock %}

{% block scripts %}
  <!-- Load Chart.js and the annotation plugin -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation"></script>
  <!-- Load your display-graph module (which now includes sensor streaming) -->
  <script src="{{ url_for('static', filename='js/display-graph.js') }}" type="module"></script>
{% endblock %}
